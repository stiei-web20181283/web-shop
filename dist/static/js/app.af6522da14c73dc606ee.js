webpackJsonp([10],{"JLj+":function(t,e){},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("7+uW"),o=n("mvHQ"),r=n.n(o),s=n("woOf"),a=n.n(s),c={name:"App",created:function(){sessionStorage.getItem("state")&&this.$store.replaceState(a()({},this.$store.state,JSON.parse(sessionStorage.getItem("state"))))},destroyed:function(){var t=this;window.addEventListener("beforeunload",function(){sessionStorage.setItem("state",r()(t.$store.state))})}},l={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var u=n("VU/8")(c,l,!1,function(t){n("WtEb")},null,null).exports,d=n("NYxO"),h=n("//Fk"),m=n.n(h),p=n("/ocq"),f=n("Dd8w"),v=n.n(f),g={name:"MenuItem",props:{routes:{type:Array}},data:function(){return{position:0,style:{left:null,right:null,height:null,BorderRadius:null,display:null}}},methods:{hasOneShowingChildren:function(t){return 1===t.filter(function(t){return!t.hidden}).length},move:function(t,e){this.position=t.children[0].meta.index,this.position>=0?(this.style.left=100*this.position+"px",this.style.display=null):this.style.display="none"},handleSelect:function(t,e){console.log("index",t)}},mounted:function(){this.$nextTick(function(){})},created:function(){var t=this;sessionStorage.position<0&&(this.style.display="none"),this.style.left=100*this.menuPosition+"px",window.addEventListener("beforeunload",function(){sessionStorage.setItem("position",r()(t.position))}),console.log(sessionStorage.position)},computed:v()({},Object(d.b)(["menu_position"]),{menuPosition:function(){return this.menu_position}}),watch:{position:function(t){console.log("position",t,"\n==================")}}},_={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"menu_warpper",staticClass:"menu-wrapper"},[n("el-image",{staticClass:"logo",attrs:{src:"https://iph.href.lu/150x50?fg=666&bg=ccc&text=logo"}}),t._v(" "),n("div",{staticClass:"menu-left"},[t._l(t.routes,function(e){return[!e.hidden&&e.children?n("router-link",{key:e.children[0].name,ref:"menu_link",refInFor:!0,staticClass:"menu-link",attrs:{to:e.path+"/"+e.children[0].path}},[n("el-menu-item",{class:e.children[0].meta.class,attrs:{index:e.path+"/"+e.children[0].path},on:{click:function(n){return t.move(e,n)},select:t.handleSelect}},[n("el-image",{attrs:{src:"https://iph.href.lu/30x30?fg=666&bg=ccc"}}),t._v(" "),n("div",{staticClass:"title"},[t._v(t._s(e.children[0].meta.title))])],1)],1):t._e()]}),t._v(" "),n("div",{staticClass:"menuBg",style:t.style},[t._v(t._s(this.$route.meta.index))])],2),t._v(" "),n("div",{staticClass:"menu-right"},[t._l(t.routes,function(e){return[e.hidden&&e.children?n("router-link",{key:e.children[0].name,ref:"menu_link",refInFor:!0,staticClass:"menu-link",attrs:{to:e.path+"/"+e.children[0].path}},[n("el-menu-item",{class:e.children[0].meta.class,attrs:{index:e.path+"/"+e.children[0].path},on:{click:function(n){return t.move(e,n)},select:t.handleSelect}},[n("el-image",{attrs:{src:"https://iph.href.lu/30x30?fg=666&bg=ccc"}}),t._v(" "),"cart"==e.children[0].name?n("el-badge",{staticClass:"item",attrs:{type:"danger",value:100,max:99}}):t._e(),t._v(" "),n("div",{staticClass:"title"},[t._v(t._s(e.children[0].meta.title))])],1)],1):t._e()]})],2)],1)},staticRenderFns:[]};var b={name:"NavMenu",components:{MenuItem:n("VU/8")(g,_,!1,function(t){n("l9CV")},"data-v-f9383790",null).exports},data:function(){return{}},methods:{handleSelect:function(t,e){console.log(t,e)}},computed:v()({},Object(d.b)(["permission_routes","menu_position"]),{routes:function(){return this.permission_routes}})},x={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"nav-menu"},[e("el-menu",{staticClass:"el-menu-demo",attrs:{"default-active":this.$route.path,mode:"horizontal"},on:{select:this.handleSelect}},[e("menu-item",{attrs:{routes:this.routes}})],1)],1)},staticRenderFns:[]};var y={render:function(){var t=this.$createElement,e=this._self._c||t;return e("section",{staticClass:"app-main"},[e("transition",{attrs:{name:"fade-transform",mode:"out-in"}},[e("keep-alive",[e("router-view",{key:this.key})],1)],1)],1)},staticRenderFns:[]};var w={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"footer-view"},[this._v("footer")])},staticRenderFns:[]};var S={name:"Layout",components:{NavMenu:n("VU/8")(b,x,!1,function(t){n("JLj+")},"data-v-eb6c117c",null).exports,AppMain:n("VU/8")({name:"AppMain",computed:{cachedViews:function(){return this.$store.state.tagsView.cachedViews},key:function(){return this.$route.fullPath}}},y,!1,function(t){n("sbhd")},"data-v-5706a022",null).exports,"footer-view":n("VU/8")({name:"Footer"},w,!1,function(t){n("nB/g")},"data-v-2b108bf8",null).exports}},C={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("nav-menu"),this._v(" "),e("app-main"),this._v(" "),e("footer-view")],1)},staticRenderFns:[]},P=n("VU/8")(S,C,!1,null,null,null).exports;i.default.use(p.a);var k=[{path:"/login",component:function(){return n.e(4).then(n.bind(null,"T+/8"))},hidden:!0},{path:"/404",component:function(){return n.e(8).then(n.bind(null,"+H76"))},hidden:!0},{path:"",component:P,redirect:"/home",children:[{path:"home",name:"Home",component:function(){return n.e(0).then(n.bind(null,"xcJn"))},meta:{title:"首页",icon:"el-icon-star-off",index:0}}]},{path:"/productPage",component:P,name:"productPage",meta:{title:"商品",icon:"el-icon-star-off"},children:[{path:"product",name:"product",component:function(){return n.e(3).then(n.bind(null,"TIxP"))},meta:{title:"全部商品",icon:"product-list",index:1}}]},{path:"/activityPage",component:P,name:"activityPage",meta:{title:"活动",icon:"el-icon-star-off"},children:[{path:"activity",name:"activity",component:function(){return n.e(7).then(n.bind(null,"Dyz3"))},meta:{title:"活动专区",icon:"product-list",index:2}}]},{path:"/discountPage",component:P,name:"discountPage",meta:{title:"优惠",icon:"el-icon-star-off"},children:[{path:"discount",name:"discount",component:function(){return n.e(5).then(n.bind(null,"nf3P"))},meta:{title:"优惠专区",icon:"product-list",index:3}}]},{path:"/vipPage",component:P,name:"vipPage",meta:{title:"会员",icon:"el-icon-star-off"},children:[{path:"vip",name:"vip",component:function(){return n.e(1).then(n.bind(null,"5U+b"))},meta:{title:"会员专区",icon:"product-list",index:4}}]},{path:"/userPage",component:P,name:"userPage",meta:{title:"用户",icon:""},children:[{path:"user",name:"user",component:function(){return n.e(2).then(n.bind(null,"im3o"))},meta:{title:"个人中心",icon:"",index:-1,class:"menu-user"}}],hidden:!0},{path:"/cartPage",component:P,name:"cartPage",meta:{title:"购物车",icon:""},children:[{path:"cart",name:"cart",component:function(){return n.e(6).then(n.bind(null,"CESq"))},meta:{title:"购物车",icon:"",index:-2,class:"menu-cart"}}],hidden:!0}],E=[{path:"*",redirect:"/404",hidden:!0}],R=new p.a({scrollBehavior:function(){return{y:0}},routes:k});var $={namespaced:!0,state:{position:sessionStorage.getItem("position"),routes:k,addRoutes:[]},mutations:{SET_ROUTES:function(t,e){t.addRouters=e,t.routes=k.concat(e)}},actions:{GenerateRoutes:function(t,e){var n=t.commit;return new m.a(function(t){var i=e.menus,o=E.filter(function(t){return!!function(t,e){if(e.name){var n=function(t,e){for(var n=0;n<e.length;n++){var i=e[n];if(t===i.name)return i}return null}(e.name,t);return null!=n?(null!=n.title&&""!==n.title&&(e.meta.title=n.title),null!=n.icon&&""!==n.title&&(e.meta.icon=n.icon),null!=n.hidden&&(e.hidden=0!==n.hidden),null!=n.sort&&""!==n.sort&&(e.sort=n.sort),!0):(e.sort=0,void 0!==e.hidden&&!0===e.hidden)}return!0}(i,t)&&(t.children&&t.children.length>0?(t.children=t.children.filter(function(t){return!1}),t):t)});n("SET_ROUTERS",o),t()})}}},V={permission_routes:function(t){return t.permission.routes},menu_position:function(t){return t.permission.position}};i.default.use(d.a);var F=new d.a.Store({modules:{permission:$},getters:V}),I=n("zL8q"),M=n.n(I);n("tvR6"),n("uMhA");i.default.use(M.a),i.default.config.productionTip=!1,new i.default({el:"#app",router:R,store:F,components:{App:u},template:"<App/>"})},WtEb:function(t,e){},l9CV:function(t,e){},"nB/g":function(t,e){},sbhd:function(t,e){},tvR6:function(t,e){},uMhA:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.af6522da14c73dc606ee.js.map