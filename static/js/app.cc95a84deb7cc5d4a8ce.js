webpackJsonp([7],{"7ZvH":function(t,e){},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("7+uW"),o=n("mvHQ"),r=n.n(o),s=n("woOf"),a=n.n(s),u={name:"App",created:function(){sessionStorage.getItem("state")&&this.$store.replaceState(a()({},this.$store.state,JSON.parse(sessionStorage.getItem("state"))))},destroyed:function(){var t=this;window.addEventListener("beforeunload",function(){sessionStorage.setItem("state",r()(t.$store.state))})}},c={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var l=n("VU/8")(u,c,!1,function(t){n("7ZvH")},null,null).exports,d=n("NYxO"),p=n("//Fk"),m=n.n(p),h=n("/ocq"),f=n("Dd8w"),v=n.n(f),g={name:"MenuItem",props:{routes:{type:Array},isNest:{type:Boolean,default:!1}},data:function(){return{style:{},positionX:0,positionY:0,position:0}},methods:{hasOneShowingChildren:function(t){return 1===t.filter(function(t){return!t.hidden}).length},move:function(t){var e=this.$refs.slideBackground;this.position=t.children[0].meta.index,0===this.position?e.style.left="10px":e.style.left=10+120*this.position+"px",console.log(t)}},mounted:function(){var t=this;this.$nextTick(function(){t.position=t.menu_position})},created:function(){var t=this;window.addEventListener("beforeunload",function(){sessionStorage.setItem("position",r()(t.position))})},watch:{position:function(t){console.log("position",t)}}},_={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"menu_warpper",staticClass:"menu-wrapper"},[t._l(t.routes,function(e){return[!e.hidden&&e.children?[n("router-link",{key:e.index,ref:"menu_link",refInFor:!0,staticClass:"menu-link",attrs:{to:e.path+"/"+e.children[0].path}},[n("el-menu-item",{attrs:{index:e.path+"/"+e.children[0].path},on:{click:function(n){return t.move(e)}}},[n("el-image",{attrs:{src:"https://iph.href.lu/30x30?fg=666&bg=ccc"}},[t._v("1\n        ")]),t._v(" "),n("div",{staticClass:"title"},[t._v(t._s(e.children[0].meta.title))])],1)],1)]:t._e()]}),t._v(" "),n("div",{ref:"slideBackground",staticClass:"menuBg"},[t._v(t._s(this.$route.meta.index))])],2)},staticRenderFns:[]};var x={name:"NavMenu",components:{MenuItem:n("VU/8")(g,_,!1,function(t){n("b4yW")},"data-v-7983aa9c",null).exports},data:function(){return{}},methods:{handleSelect:function(t,e){console.log(t,e)}},computed:v()({},Object(d.b)(["permission_routes","menu_position"]),{routes:function(){return this.permission_routes}})},w={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"nav-menu"},[e("el-menu",{staticClass:"el-menu-demo",attrs:{"show-timeout":200,"default-active":this.$route.path,mode:"horizontal"},on:{select:this.handleSelect}},[e("el-image",{staticClass:"logo",attrs:{src:"https://iph.href.lu/150x50?fg=666&bg=ccc&text=logo"}}),this._v(" "),e("menu-item",{attrs:{routes:this.routes}})],1)],1)},staticRenderFns:[]};var y={render:function(){var t=this.$createElement,e=this._self._c||t;return e("section",{staticClass:"app-main"},[e("transition",{attrs:{name:"fade-transform",mode:"out-in"}},[e("keep-alive",[e("router-view",{key:this.key})],1)],1)],1)},staticRenderFns:[]};var b={name:"Layout",components:{NavMenu:n("VU/8")(x,w,!1,function(t){n("V2H0")},"data-v-478a328a",null).exports,AppMain:n("VU/8")({name:"AppMain",computed:{cachedViews:function(){return this.$store.state.tagsView.cachedViews},key:function(){return this.$route.fullPath}}},y,!1,function(t){n("ZIzt")},"data-v-2f0c3817",null).exports}},S={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("nav-menu"),this._v(" "),e("app-main")],1)},staticRenderFns:[]},k=n("VU/8")(b,S,!1,null,null,null).exports;i.default.use(h.a);var $=[{path:"/login",component:function(){return n.e(2).then(n.bind(null,"T+/8"))},hidden:!0},{path:"/404",component:function(){return n.e(5).then(n.bind(null,"+H76"))},hidden:!0},{path:"",component:k,redirect:"/home",children:[{path:"home",name:"Home",component:function(){return n.e(0).then(n.bind(null,"xcJn"))},meta:{title:"首页",icon:"el-icon-star-off",index:0}}]},{path:"/productPage",component:k,name:"productPage",meta:{title:"商品",icon:"el-icon-star-off"},children:[{path:"product",name:"product",component:function(){return n.e(1).then(n.bind(null,"TIxP"))},meta:{title:"商品列表",icon:"product-list",index:1}}]},{path:"/activityPage",component:k,name:"activityPage",meta:{title:"活动",icon:"el-icon-star-off"},children:[{path:"activity",name:"activity",component:function(){return n.e(4).then(n.bind(null,"Dyz3"))},meta:{title:"活动列表",icon:"product-list",index:2}}]},{path:"/discountPage",component:k,name:"discountPage",meta:{title:"商品",icon:"el-icon-star-off"},children:[{path:"discount",name:"discount",component:function(){return n.e(3).then(n.bind(null,"nf3P"))},meta:{title:"折扣",icon:"product-list",index:3}}]}],R=[{path:"*",redirect:"/404",hidden:!0}],E=new h.a({scrollBehavior:function(){return{y:0}},routes:$});var I={namespaced:!0,state:{position:sessionStorage.getItem("position"),routes:$,addRoutes:[]},mutations:{SET_ROUTES:function(t,e){t.addRouters=e,t.routes=$.concat(e)}},actions:{GenerateRoutes:function(t,e){var n=t.commit;return new m.a(function(t){var i=e.menus,o=R.filter(function(t){return!!function(t,e){if(e.name){var n=function(t,e){for(var n=0;n<e.length;n++){var i=e[n];if(t===i.name)return i}return null}(e.name,t);return null!=n?(null!=n.title&&""!==n.title&&(e.meta.title=n.title),null!=n.icon&&""!==n.title&&(e.meta.icon=n.icon),null!=n.hidden&&(e.hidden=0!==n.hidden),null!=n.sort&&""!==n.sort&&(e.sort=n.sort),!0):(e.sort=0,void 0!==e.hidden&&!0===e.hidden)}return!0}(i,t)&&(t.children&&t.children.length>0?(t.children=t.children.filter(function(t){return!1}),t):t)});n("SET_ROUTERS",o),t()})}}},P={permission_routes:function(t){return t.permission.routes},menu_position:function(t){return t.permission.position}};i.default.use(d.a);var V=new d.a.Store({modules:{permission:I},getters:P}),C=n("zL8q"),H=n.n(C);n("tvR6");i.default.use(H.a),i.default.config.productionTip=!1,new i.default({el:"#app",router:E,store:V,components:{App:l},template:"<App/>"})},V2H0:function(t,e){},ZIzt:function(t,e){},b4yW:function(t,e){},tvR6:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.cc95a84deb7cc5d4a8ce.js.map